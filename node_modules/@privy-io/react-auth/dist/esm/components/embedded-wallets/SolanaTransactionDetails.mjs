import{jsxs as o,jsx as n,Fragment as i}from"react/jsx-runtime";import t from"@heroicons/react/24/outline/ChevronDownIcon";import{useState as r,useEffect as e}from"react";import{styled as c}from"styled-components";import{BackButton as s,NextButton as m}from"../ModalHeader.mjs";import{Rows as a,Row as l}from"../ui/layout/Row.mjs";import{LabelSm as p}from"../ui/typography/LabelSm.mjs";import{Value as d}from"../ui/typography/Value.mjs";import{SolanaPriceDisplay as h}from"./PriceDisplay.mjs";import{WalletLink as j}from"./WalletLink.mjs";import"@heroicons/react/24/outline/ArrowLeftIcon";import"@heroicons/react/24/outline/ArrowRightIcon";import"@heroicons/react/24/outline/QuestionMarkCircleIcon";import"@heroicons/react/24/outline/XMarkIcon";import"../../configuration/context.mjs";import"../../config.mjs";import"../../configuration/defaultClientConfig.mjs";import"../../constants.mjs";import"../../configuration/login-methods.mjs";import"../../configuration/wallets.mjs";import"../../connectors/chains/index.mjs";import"../../connectors/chains/arbitrum.mjs";import"../../connectors/chains/arbitrumSepolia.mjs";import"../../connectors/chains/avalanche.mjs";import"../../connectors/chains/avalancheFuji.mjs";import"../../connectors/chains/base.mjs";import"../../connectors/chains/baseSepolia.mjs";import"../../connectors/chains/berachainArtio.mjs";import"../../connectors/chains/celo.mjs";import"../../connectors/chains/celoAlfajores.mjs";import"../../connectors/chains/filecoin.mjs";import"../../connectors/chains/filecoinCalibration.mjs";import"../../connectors/chains/garnetHolesky.mjs";import"../../connectors/chains/holesky.mjs";import"../../connectors/chains/linea.mjs";import"../../connectors/chains/lineaTestnet.mjs";import"../../connectors/chains/lukso.mjs";import"../../connectors/chains/mainnet.mjs";import"../../connectors/chains/optimism.mjs";import"../../connectors/chains/optimismSepolia.mjs";import"../../connectors/chains/polygon.mjs";import"../../connectors/chains/polygonAmoy.mjs";import"../../connectors/chains/redstone.mjs";import"../../connectors/chains/sepolia.mjs";import"../../connectors/chains/zora.mjs";import"../../connectors/chains/zoraSepolia.mjs";import"../../connectors/chains/zoraTestnet.mjs";import"../../connectors/chains/utils.mjs";import"../../lib/solana/index.mjs";import"../../theme.mjs";import"tinycolor2";import"../../lib/cybr53.mjs";import"../../hooks/internal-context.mjs";import"../../hooks/index.mjs";import"../ui/animation/LoadingSkeleton.mjs";import"@ethersproject/units";import"../../lib/ethers.mjs";import"@ethersproject/bignumber";import"@privy-io/js-sdk-core";import"../../utils/index.mjs";import"@ethersproject/providers";import"../../connectors/get-legacy-injected-providers.mjs";import"../../connectors/is-wallet-installed.mjs";import"../../errors.mjs";import"ofetch";import"../../lib/solana/transaction.mjs";import"../../utils/buffer/readBigInt64LE.mjs";const u=({instructions:c,fees:j,transactionInfo:u,solPrice:v,rpcEndpoint:I})=>{let C=c.reduce(((o,{amount:n,token:i})=>n&&"SOL"===i?.symbol?o+n:o),0n),[A,S]=r(0),[L,P]=r(!1),E=c[A];return e((()=>{S(0)}),[c]),/*#__PURE__*/o(a,{children:[/*#__PURE__*/o(l,{children:[/*#__PURE__*/n(p,{children:"Total"}),/*#__PURE__*/n(d,{children:/*#__PURE__*/n(h,{quantities:[C,j],tokenPrice:v})})]}),u&&u.action&&/*#__PURE__*/o(l,{children:[/*#__PURE__*/n(p,{children:"Action"}),/*#__PURE__*/n(d,{children:u.action})]}),/*#__PURE__*/o(l,{children:[/*#__PURE__*/n(p,{children:"Fees"}),/*#__PURE__*/n(d,{children:/*#__PURE__*/n(h,{quantities:[j||0n],tokenPrice:v})})]}),c.length>1?/*#__PURE__*/o(i,{children:[/*#__PURE__*/n(l,{children:/*#__PURE__*/o(w,{onClick:()=>P((o=>!o)),children:[/*#__PURE__*/n("span",{children:"Details"}),/*#__PURE__*/n(t,{height:"16px",width:"16px",strokeWidth:"2",style:{transition:"all 300ms",transform:L?"rotate(180deg)":void 0}})]})}),L&&/*#__PURE__*/n(l,{children:/*#__PURE__*/o(g,{children:[/*#__PURE__*/o(y,{children:[/*#__PURE__*/o(b,{children:[A+1," of ",c.length," instructions"]}),/*#__PURE__*/o(k,{children:[A>0&&/*#__PURE__*/n(s,{backFn:()=>S((o=>o-1))}),A<c.length-1&&/*#__PURE__*/n(m,{nextFn:()=>S((o=>o+1))})]})]}),/*#__PURE__*/n(x,{children:/*#__PURE__*/n(f,{instruction:E,rpcEndpoint:I,solPrice:v})})]})})]}):/*#__PURE__*/n(f,{instruction:E,rpcEndpoint:I,solPrice:v,hideAmount:!0})]})};function f({instruction:i,rpcEndpoint:t,solPrice:r,hideAmount:e}){return i?/*#__PURE__*/o(a,{children:[!e&&!!i.amount&&/*#__PURE__*/o(l,{children:[/*#__PURE__*/n(p,{children:"Amount"}),/*#__PURE__*/n(d,{children:/*#__PURE__*/n(h,{quantities:[i.amount],tokenPrice:r,tokenSymbol:i.token?.symbol??"SOL",tokenDecimals:i.token?.decimals??9})})]}),i.to&&/*#__PURE__*/o(l,{children:[/*#__PURE__*/n(p,{children:"To"}),/*#__PURE__*/n(d,{children:/*#__PURE__*/n(j,{walletAddress:i.to,rpcEndpoint:t,network:"solana"})})]}),i.from&&/*#__PURE__*/o(l,{children:[/*#__PURE__*/n(p,{children:"From"}),/*#__PURE__*/n(d,{children:/*#__PURE__*/n(j,{walletAddress:i.from,rpcEndpoint:t,network:"solana"})})]})]}):null}let g=/*#__PURE__*/c.div.withConfig({displayName:"InstructionsBox",componentId:"sc-3551ef3c-0"})(["display:flex;flex-direction:column;width:100%;overflow:hidden;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]),y=/*#__PURE__*/c.header.withConfig({displayName:"InstructionsBoxHeader",componentId:"sc-3551ef3c-1"})(["display:flex;justify-content:space-between;align-items:center;padding:12px;background-color:var(--privy-color-background-2);"]),b=/*#__PURE__*/c.h4.withConfig({displayName:"HeaderTitle",componentId:"sc-3551ef3c-2"})(["font-size:14px;font-weight:500;line-height:19.6px;"]),x=/*#__PURE__*/c.div.withConfig({displayName:"InstructionsBoxContent",componentId:"sc-3551ef3c-3"})(["padding:12px;"]),k=/*#__PURE__*/c.div.withConfig({displayName:"NavigationButtonsConatiner",componentId:"sc-3551ef3c-4"})(["display:flex;gap:8px;align-items:center;"]),w=/*#__PURE__*/c(p).withConfig({displayName:"InteractiveLabel",componentId:"sc-3551ef3c-5"})(["cursor:pointer;display:inline-flex;gap:8px;align-items:center;"]);export{u as SolanaTransactionDetails};
