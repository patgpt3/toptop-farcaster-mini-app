"use strict";var e=require("react/jsx-runtime"),r=require("@heroicons/react/24/outline"),s=require("styled-components"),n=require("../../components/Button.js"),i=require("../../components/ModalFooter.js"),o=require("../../components/ModalHeader.js"),a=require("../../components/ui/layout/Row.js"),t=require("../../components/ui/typography/ErrorMessage.js"),c=require("../../components/ui/typography/LabelSm.js"),l=require("../../components/ui/typography/Subtitle.js"),d=require("../../components/ui/typography/Title.js"),u=require("../../components/ui/typography/Value.js"),j=require("../../components/ui/wallet/Address.js"),h=require("../../components/ui/wallet/WalletInfoCard.js"),m=require("../LandingScreen/styles.js"),x=require("./TransactionDetail.js"),p=require("./useTransactionDetails.js");require("../../components/Loader.js"),require("../../svg/protected-by-privy.js"),require("@heroicons/react/24/outline/ArrowLeftIcon"),require("@heroicons/react/24/outline/ArrowRightIcon"),require("@heroicons/react/24/outline/QuestionMarkCircleIcon"),require("@heroicons/react/24/outline/XMarkIcon"),require("../../configuration/context.js"),require("react"),require("../../config.js"),require("../../configuration/defaultClientConfig.js"),require("../../constants.js"),require("../../configuration/login-methods.js"),require("../../configuration/wallets.js"),require("../../connectors/chains/index.js"),require("../../connectors/chains/arbitrum.js"),require("../../connectors/chains/arbitrumSepolia.js"),require("../../connectors/chains/avalanche.js"),require("../../connectors/chains/avalancheFuji.js"),require("../../connectors/chains/base.js"),require("../../connectors/chains/baseSepolia.js"),require("../../connectors/chains/berachainArtio.js"),require("../../connectors/chains/celo.js"),require("../../connectors/chains/celoAlfajores.js"),require("../../connectors/chains/filecoin.js"),require("../../connectors/chains/filecoinCalibration.js"),require("../../connectors/chains/garnetHolesky.js"),require("../../connectors/chains/holesky.js"),require("../../connectors/chains/linea.js"),require("../../connectors/chains/lineaTestnet.js"),require("../../connectors/chains/lukso.js"),require("../../connectors/chains/mainnet.js"),require("../../connectors/chains/optimism.js"),require("../../connectors/chains/optimismSepolia.js"),require("../../connectors/chains/polygon.js"),require("../../connectors/chains/polygonAmoy.js"),require("../../connectors/chains/redstone.js"),require("../../connectors/chains/sepolia.js"),require("../../connectors/chains/zora.js"),require("../../connectors/chains/zoraSepolia.js"),require("../../connectors/chains/zoraTestnet.js"),require("../../connectors/chains/utils.js"),require("../../lib/solana/index.js"),require("../../theme.js"),require("tinycolor2"),require("../../lib/cybr53.js"),require("../../hooks/internal-context.js"),require("../../hooks/index.js"),require("../../components/ui/animation/LoadingSkeleton.js"),require("@heroicons/react/24/outline/CheckIcon"),require("@heroicons/react/24/outline/Square2StackIcon"),require("../../utils/index.js"),require("@ethersproject/providers"),require("../../connectors/get-legacy-injected-providers.js"),require("../../connectors/is-wallet-installed.js"),require("../../errors.js"),require("ofetch"),require("../../components/ui/chips/Chip.js"),require("../../components/ui/layout/Column.js"),require("../../components/ui/typography/LabelXs.js"),require("../../components/ui/wallet/shared.js"),require("@ethersproject/address");const g=({transactionIndex:e,maxIndex:r})=>"number"!=typeof e||0===r?"":` (${e+1} / ${r+1})`;let q=/*#__PURE__*/s.styled(h.WalletInfoCard).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-67aab208-0"})(["",""],(e=>e.$useSmallMargins?"margin-top: 0.5rem;":"margin-top: 2rem;")),b="There was an error preparing your transaction. Your transaction request will likely fail.",y=/*#__PURE__*/s.styled.div.withConfig({displayName:"ImageContainer",componentId:"sc-67aab208-1"})(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]);exports.SendSolanaTransactionScreenView=({img:r,title:s,subtitle:h,cta:x,network:p,blockExplorerUrl:w,transactionIndex:S,maxIndex:f,isMissingFunds:k,submitError:L,parseError:T,total:I,amount:C,fee:A,balance:R,from:V,to:v,tokenAddress:M,programAddress:E,transactingWalletAddress:F,disabled:$,isSubmitting:D,isPreparing:N,isTokenPriceLoading:P,onClick:B,onClose:H,onBack:W})=>{let z=N||P;/*#__PURE__*/return e.jsxs(e.Fragment,{children:[/*#__PURE__*/e.jsx(o.ModalHeader,{onClose:H,backFn:W}),r&&/*#__PURE__*/e.jsx(y,{children:r}),/*#__PURE__*/e.jsxs(d.Title,{style:{marginTop:r?"1.5rem":0},children:[s,/*#__PURE__*/e.jsx(g,{maxIndex:f,transactionIndex:S})]}),/*#__PURE__*/e.jsx(l.Subtitle,{children:h}),/*#__PURE__*/e.jsxs(a.Rows,{style:{marginTop:"2rem"},children:[(I||z)&&/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"Total"}),/*#__PURE__*/e.jsx(u.Value,{$isLoading:z,children:I})]}),V&&V!==F&&/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"From"}),/*#__PURE__*/e.jsx(u.Value,{children:/*#__PURE__*/e.jsx(j.Address,{address:V,url:w,showCopyIcon:!1})})]}),v&&/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"To"}),/*#__PURE__*/e.jsx(u.Value,{children:/*#__PURE__*/e.jsx(j.Address,{address:v,url:w,showCopyIcon:!1})})]}),M&&/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"Token address"}),/*#__PURE__*/e.jsx(u.Value,{children:/*#__PURE__*/e.jsx(j.Address,{address:M,url:w,showCopyIcon:!1})})]}),E&&/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"Program address"}),/*#__PURE__*/e.jsx(u.Value,{children:/*#__PURE__*/e.jsx(j.Address,{address:E,url:w,showCopyIcon:!1})})]}),p&&/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"Network"}),/*#__PURE__*/e.jsx(u.Value,{children:p})]}),(C||z)&&/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"Amount"}),/*#__PURE__*/e.jsx(u.Value,{children:/*#__PURE__*/e.jsx(u.Value,{$isLoading:z,children:C})})]}),(A||z)&&/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"Estimated fee"}),/*#__PURE__*/e.jsx(u.Value,{$isLoading:z,children:A})]})]}),/*#__PURE__*/e.jsx(m.Grow,{}),L?/*#__PURE__*/e.jsx(t.ErrorMessage,{style:{marginTop:"2rem"},children:L.message}):T?/*#__PURE__*/e.jsx(t.ErrorMessage,{style:{marginTop:"2rem"},children:b}):null,/*#__PURE__*/e.jsx(q,{$useSmallMargins:!(!T&&!L),title:"Your wallet",address:F,balance:R,isLoading:N||P,errMsg:N||T||L||!k?void 0:"Add funds on Solana to complete transaction."}),/*#__PURE__*/e.jsx(n.PrimaryButton,{style:{marginTop:"1rem"},loading:D,disabled:$||N,onClick:B,children:x}),/*#__PURE__*/e.jsx(i.BlobbyFooter,{})]})},exports.SendTransactionScreenView=({img:s,submitError:h,prepareError:w,onClose:S,action:f,title:k,subtitle:L,total:T,txValue:I,to:C,tokenAddress:A,network:R,missingFunds:V,fee:v,from:M,cta:E,disabled:F,chain:$,isSubmitting:D,isPreparing:N,isTokenPriceLoading:P,isTokenContractInfoLoading:B,isSponsored:H,symbol:W,balance:z,onClick:Y,transactionDetails:G,transactionIndex:X,maxIndex:Q,onBack:U,chainName:J})=>{let{showTransactionDetails:K,setShowTransactionDetails:O,hasMoreDetails:Z,isErc20Ish:_}=p.useTransactionDetails(G);/*#__PURE__*/return e.jsxs(e.Fragment,{children:[/*#__PURE__*/e.jsx(o.ModalHeader,{onClose:S,backFn:U}),s&&/*#__PURE__*/e.jsx(y,{children:s}),/*#__PURE__*/e.jsxs(d.Title,{style:{marginTop:s?"1.5rem":0},children:[k,/*#__PURE__*/e.jsx(g,{maxIndex:Q,transactionIndex:X})]}),/*#__PURE__*/e.jsx(l.Subtitle,{children:L}),/*#__PURE__*/e.jsxs(a.Rows,{style:{marginTop:"2rem"},children:[_&&/*#__PURE__*/e.jsxs(e.Fragment,{children:["approve"===f&&/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"Action"}),/*#__PURE__*/e.jsx(u.Value,{children:G?.action})]}),/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"Amount"}),/*#__PURE__*/e.jsxs(u.Value,{$isLoading:_&&B,children:[G?.formattedAmount," ",W]})]})]}),T&&/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"Total"}),/*#__PURE__*/e.jsx(u.Value,{$isLoading:N||P,children:T})]}),G&&"spender"in G&&G?.spender?/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"Spender"}),/*#__PURE__*/e.jsx(u.Value,{children:/*#__PURE__*/e.jsx(j.Address,{address:G.spender,url:$?.blockExplorers?.default?.url,showCopyIcon:!1})})]}):null,C&&/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"To"}),/*#__PURE__*/e.jsx(u.Value,{children:/*#__PURE__*/e.jsx(j.Address,{address:C,url:$?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),A&&/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"Token address"}),/*#__PURE__*/e.jsx(u.Value,{children:/*#__PURE__*/e.jsx(j.Address,{address:A,url:$?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"Network"}),/*#__PURE__*/e.jsx(u.Value,{children:R})]}),/*#__PURE__*/e.jsxs(a.Row,{children:[/*#__PURE__*/e.jsx(c.LabelSm,{children:"Estimated fee"}),/*#__PURE__*/e.jsx(u.Value,{$isLoading:N||P||void 0===H,children:H?"Sponsored":v})]}),Z&&/*#__PURE__*/e.jsxs(e.Fragment,{children:[/*#__PURE__*/e.jsx(a.Row,{className:"cursor-pointer",onClick:()=>O(!K),children:/*#__PURE__*/e.jsxs(c.LabelSmPrimary,{className:"flex items-center gap-x-1",children:["Details"," ",/*#__PURE__*/e.jsx(r.ChevronDownIcon,{style:{width:"0.75rem",marginLeft:"0.25rem",transform:K?"rotate(180deg)":void 0}})]})}),K&&G&&/*#__PURE__*/e.jsx(x.TransactionDetail,{action:f,chain:$,transactionDetails:G,isTokenContractInfoLoading:B,symbol:W})]})]}),/*#__PURE__*/e.jsx(m.Grow,{}),h?/*#__PURE__*/e.jsx(t.ErrorMessage,{style:{marginTop:"2rem"},children:h.message}):w?/*#__PURE__*/e.jsx(t.ErrorMessage,{style:{marginTop:"2rem"},children:b}):null,/*#__PURE__*/e.jsx(q,{$useSmallMargins:!(!w&&!h),title:Number(I)>0?void 0:!1!==H?"Your wallet":void 0,address:M,balance:z,isLoading:N||P,errMsg:N||w||h||!V?void 0:`Add funds on ${$?.name??J} to complete transaction.`}),/*#__PURE__*/e.jsx(n.PrimaryButton,{style:{marginTop:"1rem"},loading:D,disabled:F||N,onClick:Y,children:E}),/*#__PURE__*/e.jsx(i.BlobbyFooter,{})]})},exports.TransactionIndex=g;
