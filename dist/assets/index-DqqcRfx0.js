var V=Object.defineProperty;var q=(c,i,s)=>i in c?V(c,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[i]=s;var I=(c,i,s)=>q(c,typeof i!="symbol"?i+"":i,s);import{j as e,m as k,X as $}from"./privy-BN7e2fjS.js";import{b as D,r as h,R}from"./vendor-C6kY5k2M.js";import{L as M,u as _,R as O,a as g,B as U}from"./router-DifYwxYO.js";import{u as y,a as E,Q as B,b as G}from"./query-DGYi-rip.js";import{H as J,M as H,U as K,L as W,a as X,A as z,C as Q,b as Y,E as Z,c as ee,T as te,Z as se,G as re,F as ae,d as ie,I as ne,W as ce,e as oe,f as le,g as de,S as me,h as he}from"./ui-jESr1eEX.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(n){if(n.ep)return;n.ep=!0;const t=s(n);fetch(n.href,t)}})();var A={},P=D;A.createRoot=P.createRoot,A.hydrateRoot=P.hydrateRoot;function L(){const c=h.useCallback(async()=>{try{navigator.share?await navigator.share({title:"TopTop Network",text:"Discover the latest in Crypto, AI, Gaming, and Web3",url:"https://toptop.network"}):(await navigator.clipboard.writeText("https://toptop.network"),alert("Link copied to clipboard!"))}catch(a){console.error("Failed to share app:",a)}},[]),i=h.useCallback(async(a,o)=>{try{"Notification"in window&&Notification.permission==="granted"?new Notification(a,{body:o}):"Notification"in window&&Notification.permission!=="denied"&&await Notification.requestPermission()==="granted"&&new Notification(a,{body:o})}catch(m){console.error("Failed to send notification:",m)}},[]),s=h.useCallback(async()=>{try{return console.log("Wallet address requested"),null}catch(a){return console.error("Failed to get wallet address:",a),null}},[]),r=h.useCallback(async a=>{try{return console.log("Message signing requested:",a),null}catch(o){return console.error("Failed to sign message:",o),null}},[]),n=h.useCallback(async a=>{try{window.open(a,"_blank")}catch(o){console.error("Failed to open external URL:",o)}},[]),t=h.useCallback(()=>({isMiniApp:!1,platform:"web"}),[]);return{shareApp:c,sendNotification:i,getWalletAddress:s,signMessage:r,openExternal:n,getContext:t,isMiniApp:!1}}function xe(){const{isMiniApp:c}=L();return e.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-toptop-blue rounded-lg flex items-center justify-center",children:e.jsx(J,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"TopTop Network"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Crypto â€¢ AI â€¢ Gaming â€¢ Web3"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[c,e.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(H,{className:"w-4 h-4"})})]})]})}function ue(){var t,a;const{login:c,logout:i,authenticated:s,user:r,ready:n}=k();return n?s&&r?e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[(t=r.farcaster)!=null&&t.pfp?e.jsx("img",{src:r.farcaster.pfp,alt:"Profile",className:"w-8 h-8 rounded-full"}):e.jsx("div",{className:"w-8 h-8 bg-toptop-blue rounded-full flex items-center justify-center",children:e.jsx(K,{className:"w-4 h-4 text-white"})}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["@",((a=r.farcaster)==null?void 0:a.username)||r.id]})]}),e.jsxs("button",{onClick:i,className:"flex items-center space-x-1 px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(W,{className:"w-4 h-4"}),e.jsx("span",{children:"Disconnect"})]})]}):e.jsxs("button",{onClick:c,className:"flex items-center space-x-2 px-4 py-2 bg-toptop-blue text-white rounded-lg hover:bg-blue-600 transition-colors font-medium",children:[e.jsx(X,{className:"w-4 h-4"}),e.jsx("span",{children:"Connect Farcaster"})]}):e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"h-10 w-24 bg-gray-200 rounded-lg"})})}function ge({children:c}){const{isMiniApp:i}=L();return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(xe,{}),e.jsxs("main",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[e.jsx("div",{className:"mb-6 flex justify-end",children:e.jsx(ue,{})}),c]}),i]})}function f({id:c,title:i,url:s,author:r,points:n,comments:t,createdAt:a,category:o,emoji:m,onVote:u,hasVoted:x}){const[v,N]=h.useState(!1),b=async C=>{if(!v){N(!0);try{await u(c,C)}finally{N(!1)}}},w=C=>{const l=new Date(C),F=Math.floor((new Date().getTime()-l.getTime())/(1e3*60*60));if(F<1)return"just now";if(F<24)return`${F}h ago`;const T=Math.floor(F/24);return T<7?`${T}d ago`:l.toLocaleDateString()};return e.jsxs("div",{className:"flex items-start space-x-3 p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[e.jsx("button",{onClick:()=>b(!0),disabled:v,className:`p-1 rounded transition-colors ${x?"text-orange-500":"text-gray-400 hover:text-gray-600"}`,children:e.jsx(z,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:n})]}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-lg flex-shrink-0",children:m}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 leading-tight",children:e.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"hover:text-toptop-blue transition-colors",children:i})}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[e.jsxs("span",{children:["by ",r]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(Q,{className:"w-3 h-3"}),e.jsx("span",{children:w(a)})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(Y,{className:"w-3 h-3"}),e.jsxs("span",{children:[t," comments"]})]}),e.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:o})]})]})]})}),e.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 p-2 text-gray-400 hover:text-gray-600 transition-colors",title:"Open link",children:e.jsx(Z,{className:"w-4 h-4"})})]})}function j(){return e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(ee,{className:"w-8 h-8 animate-spin text-toptop-blue"})})}const p="https://crypto-news-api-backend-b5addae00d92.herokuapp.com";class pe{constructor(){I(this,"cache",new Map);I(this,"pendingRequests",new Map);I(this,"CACHE_DURATION",5*60*1e3)}async fetch(i,s){const r=`${i}-${JSON.stringify(s||{})}`,n=this.cache.get(r);if(n&&Date.now()-n.timestamp<this.CACHE_DURATION)return n.data;if(this.pendingRequests.has(r))return this.pendingRequests.get(r);const t=this.makeRequest(i,s,r);this.pendingRequests.set(r,t);try{return await t}finally{this.pendingRequests.delete(r)}}async makeRequest(i,s,r){try{const n=await fetch(i,{headers:{"Content-Type":"application/json",...s==null?void 0:s.headers},...s});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const t=await n.json();return r&&this.cache.set(r,{data:t,timestamp:Date.now()}),t}catch(n){throw console.error("API request failed:",n),n}}async getItems(i,s=1,r="main"){const n=`${p}/items/${r}/pages/${i.toLowerCase()}`;return this.fetch(n,{method:"PUT",body:JSON.stringify({page:s})})}async getJobs(i,s=1){const r=`${p}/jobs/${i.toLowerCase()}`;return this.fetch(r,{method:"PUT",body:JSON.stringify({page:s})})}async getComments(i,s=1){const r=`${p}/comments/${i.toLowerCase()}`;return this.fetch(r,{method:"PUT",body:JSON.stringify({page:s})})}async voteItem(i,s){const r=`${p}/items/${s?"upVote":"downVote"}/${i}`,n=localStorage.getItem("username");return this.fetch(r,{method:"PUT",body:JSON.stringify({currentUserName:n})})}async voteComment(i,s){const r=`${p}/comments/${s?"upVote":"downVote"}/${i}`,n=localStorage.getItem("username");return this.fetch(r,{method:"PUT",body:JSON.stringify({currentUserName:n})})}async submitItem(i){const s=`${p}/items`;return this.fetch(s,{method:"POST",body:JSON.stringify(i)})}async submitComment(i){const s=`${p}/comments`;return this.fetch(s,{method:"POST",body:JSON.stringify(i)})}async submitReply(i){const s=`${p}/replies`;return this.fetch(s,{method:"POST",body:JSON.stringify(i)})}async getItemWithDetails(i){const s=`${p}/items/${i}`;return this.fetch(s)}async getCommentWithReplies(i){const s=`${p}/comments/${i}`;return this.fetch(s)}clearCache(i){if(i)for(const s of this.cache.keys())s.includes(i)&&this.cache.delete(s);else this.cache.clear()}getStats(){return{size:this.cache.size,pendingRequests:this.pendingRequests.size}}}const d=new pe,ye=[{name:"Crypto",icon:te,href:"/crypto",color:"text-blue-600"},{name:"AI",icon:se,href:"/ai",color:"text-purple-600"},{name:"Gaming",icon:re,href:"/gaming",color:"text-green-600"},{name:"Film",icon:ae,href:"/film",color:"text-red-600"},{name:"Memecoins",icon:ie,href:"/memecoins",color:"text-yellow-600"},{name:"NFT",icon:ne,href:"/nft",color:"text-pink-600"},{name:"DePIN",icon:ce,href:"/depin",color:"text-indigo-600"},{name:"DeSci",icon:oe,href:"/desci",color:"text-cyan-600"}];function fe(){const[c,i]=h.useState("Crypto"),{data:s,isLoading:r,error:n,refetch:t}=y({queryKey:["posts",c],queryFn:()=>d.getItems(c,1,"main"),staleTime:1e3*60*2}),a=async(o,m)=>{try{await d.voteItem(o,m),t()}catch(u){console.error("Vote failed:",u),alert("Failed to vote. Please try again.")}};return r?e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsx(j,{})}):n?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load posts"}),e.jsx("button",{onClick:()=>t(),className:"btn-primary",children:"Try Again"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"TopTop Network"}),e.jsx("p",{className:"text-gray-600",children:"Discover the latest in Crypto, AI, Gaming, and Web3"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Categories"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:ye.map(o=>{const m=o.icon;return e.jsxs(M,{to:o.href,className:`flex items-center space-x-2 p-3 rounded-lg border transition-colors duration-200 hover:bg-gray-50 ${c===o.name?"border-toptop-blue bg-blue-50":"border-gray-200"}`,onClick:()=>i(o.name),children:[e.jsx(m,{className:`w-5 h-5 ${o.color}`}),e.jsx("span",{className:"font-medium text-gray-900",children:o.name})]},o.name)})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("h2",{className:"text-lg font-semibold",children:["Latest in ",c]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Posts from both Farcaster and web users"})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:s&&s.length>0?s.map(o=>{var m;return e.jsx(f,{id:o._id,title:o.title,url:o.url,author:o.author,points:o.points||0,comments:((m=o.comments)==null?void 0:m.length)||0,createdAt:o.createdAt,category:c,emoji:o.emoji||"ðŸ“°",onVote:a,hasVoted:!1},o._id)}):e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsxs("p",{children:["No posts found in ",c]}),e.jsx("p",{className:"text-sm mt-2",children:"Be the first to share something!"})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 border border-purple-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"ðŸš€ Farcaster Integration"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"Connect your Farcaster account to post, vote, and comment. Your posts will appear alongside web app users, creating a unified community experience."}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-sm text-gray-600",children:[e.jsx("span",{className:"bg-white px-2 py-1 rounded",children:"âœ¨ Cross-platform posts"}),e.jsx("span",{className:"bg-white px-2 py-1 rounded",children:"ðŸ—³ï¸ Unified voting"}),e.jsx("span",{className:"bg-white px-2 py-1 rounded",children:"ðŸ’¬ Shared comments"}),e.jsx("span",{className:"bg-white px-2 py-1 rounded",children:"ðŸ”— Seamless integration"})]})]})]})}function je(){const{login:c,logout:i,authenticated:s,user:r,ready:n}=k(),[t,a]=h.useState(null);h.useEffect(()=>{var u,x,v,N;if(s&&r){const b=((u=r.farcaster)==null?void 0:u.username)||r.id;a(b),localStorage.setItem("username",b),localStorage.setItem("farcaster_user",JSON.stringify({username:b,displayName:((x=r.farcaster)==null?void 0:x.displayName)||r.id,pfp:((v=r.farcaster)==null?void 0:v.pfp)||"",fid:((N=r.farcaster)==null?void 0:N.fid)||r.id}))}else a(null),localStorage.removeItem("username"),localStorage.removeItem("farcaster_user")},[s,r]);const o=()=>{var u,x;return t?{"X-Farcaster-User":t,"X-Farcaster-FID":((x=(u=r==null?void 0:r.farcaster)==null?void 0:u.fid)==null?void 0:x.toString())||(r==null?void 0:r.id)||"","X-Platform":"farcaster"}:{}},m=()=>s&&!!t;return{isConnected:s,profile:r==null?void 0:r.farcaster,username:t,connect:c,disconnect:i,getAuthHeaders:o,isAuthenticated:m(),ready:n}}const Ne=["ðŸ“°","ðŸš€","ðŸ’Ž","ðŸ”¥","âš¡","ðŸŽ¯","ðŸ’¡","ðŸŒŸ","ðŸŽ®","ðŸŽ¬","ðŸŽ¨","ðŸ”¬","ðŸŒ","ðŸ“±","ðŸ’»","ðŸ¤–","ðŸŽª","ðŸŽ­","ðŸŽµ","ðŸ“š"],be=["Crypto","AI","Gaming","Film","Memecoins","NFT","DePIN","DeSci"];function ve(){const c=_(),{isAuthenticated:i,profile:s,connect:r}=je(),[n,t]=h.useState(""),[a,o]=h.useState(""),[m,u]=h.useState("Crypto"),[x,v]=h.useState("ðŸ“°"),[N,b]=h.useState(!1),w=E({mutationFn:async l=>d.submitItem(l),onSuccess:()=>{alert("Post submitted successfully!"),c("/")},onError:l=>{console.error("Submit failed:",l),alert("Failed to submit post. Please try again.")}}),C=async l=>{if(l.preventDefault(),!i){alert("Please connect your Farcaster account to submit posts");return}if(!n.trim()||!a.trim()){alert("Please fill in all required fields");return}try{new URL(a)}catch{alert("Please enter a valid URL");return}const S={title:`${x} ${n.trim()}`,url:a.trim(),author:(s==null?void 0:s.username)||"farcaster_user",category:m,emoji:x,points:0,comments:[],createdAt:new Date().toISOString(),platform:"farcaster",farcasterFid:s==null?void 0:s.fid};w.mutate(S)};return i?e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-toptop-blue rounded-lg flex items-center justify-center",children:e.jsx(de,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Submit Post"}),e.jsx("p",{className:"text-gray-600",children:"Share something with the TopTop Network community"})]})]}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>b(!N),className:"flex-shrink-0 p-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:e.jsx(me,{className:"w-5 h-5 text-gray-500"})}),e.jsx("input",{type:"text",id:"title",value:n,onChange:l=>t(l.target.value),className:"input-field flex-1",placeholder:"Enter post title...",required:!0})]}),N&&e.jsx("div",{className:"mt-2 p-3 border border-gray-200 rounded-lg bg-gray-50",children:e.jsx("div",{className:"grid grid-cols-10 gap-2",children:Ne.map(l=>e.jsx("button",{type:"button",onClick:()=>{v(l),b(!1)},className:`p-2 text-lg rounded hover:bg-white transition-colors ${x===l?"bg-white shadow-sm":""}`,children:l},l))})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700 mb-2",children:"URL *"}),e.jsx("input",{type:"url",id:"url",value:a,onChange:l=>o(l.target.value),className:"input-field",placeholder:"https://example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsx("select",{id:"category",value:m,onChange:l=>u(l.target.value),className:"input-field",children:be.map(l=>e.jsx("option",{value:l,children:l},l))})]}),n&&e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Preview:"}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("span",{className:"text-lg",children:x}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:n}),e.jsx("p",{className:"text-sm text-gray-500",children:a}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Category: ",m]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(he,{className:"w-4 h-4"}),e.jsxs("span",{children:["Posting as @",s==null?void 0:s.username]})]}),e.jsx("button",{type:"submit",disabled:w.isPending,className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:w.isPending?"Submitting...":"Submit Post"})]})]})]}),e.jsxs("div",{className:"mt-6 bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"â„¹ï¸ About Farcaster Integration"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"â€¢ Your posts will appear alongside web app users"}),e.jsx("li",{children:"â€¢ All users can vote and comment on your posts"}),e.jsx("li",{children:"â€¢ Your Farcaster username will be displayed as the author"}),e.jsx("li",{children:"â€¢ Posts are shared across both platforms"})]})]})]}):e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[e.jsx(le,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Connect Farcaster to Submit"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You need to connect your Farcaster account to submit posts to TopTop Network."}),e.jsx("button",{onClick:r,className:"btn-primary",children:"Connect Farcaster"})]})})}function we(){const{data:c,isLoading:i,error:s,refetch:r}=y({queryKey:["posts","Crypto"],queryFn:()=>d.getItems("Crypto",1,"main"),staleTime:12e4}),n=async(t,a)=>{try{await d.voteItem(t,a),r()}catch(o){console.error("Vote failed:",o),alert("Failed to vote. Please try again.")}};return i?e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsx(j,{})}):s?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load posts"}),e.jsx("button",{onClick:()=>r(),className:"btn-primary",children:"Try Again"})]}):e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Crypto"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Latest crypto news and discussions"})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:c&&c.length>0?c.map(t=>{var a;return e.jsx(f,{id:t._id,title:t.title,url:t.url,author:t.author,points:t.points||0,comments:((a=t.comments)==null?void 0:a.length)||0,createdAt:t.createdAt,category:"Crypto",emoji:t.emoji||"ðŸ“°",onVote:n,hasVoted:!1},t._id)}):e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx("p",{children:"No posts found in Crypto"}),e.jsx("p",{className:"text-sm mt-2",children:"Be the first to share something!"})]})})]})})}function Ce(){const{data:c,isLoading:i,error:s,refetch:r}=y({queryKey:["posts","AI"],queryFn:()=>d.getItems("AI",1,"main"),staleTime:12e4}),n=async(t,a)=>{try{await d.voteItem(t,a),r()}catch(o){console.error("Vote failed:",o),alert("Failed to vote. Please try again.")}};return i?e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsx(j,{})}):s?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load posts"}),e.jsx("button",{onClick:()=>r(),className:"btn-primary",children:"Try Again"})]}):e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"AI"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Latest AI news and discussions"})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:c&&c.length>0?c.map(t=>{var a;return e.jsx(f,{id:t._id,title:t.title,url:t.url,author:t.author,points:t.points||0,comments:((a=t.comments)==null?void 0:a.length)||0,createdAt:t.createdAt,category:"AI",emoji:t.emoji||"ðŸ¤–",onVote:n,hasVoted:!1},t._id)}):e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx("p",{children:"No posts found in AI"}),e.jsx("p",{className:"text-sm mt-2",children:"Be the first to share something!"})]})})]})})}function Fe(){const{data:c,isLoading:i,error:s,refetch:r}=y({queryKey:["posts","Gaming"],queryFn:()=>d.getItems("Gaming",1,"main"),staleTime:12e4}),n=async(t,a)=>{try{await d.voteItem(t,a),r()}catch(o){console.error("Vote failed:",o),alert("Failed to vote. Please try again.")}};return i?e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsx(j,{})}):s?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load posts"}),e.jsx("button",{onClick:()=>r(),className:"btn-primary",children:"Try Again"})]}):e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gaming"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Latest gaming news and discussions"})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:c&&c.length>0?c.map(t=>{var a;return e.jsx(f,{id:t._id,title:t.title,url:t.url,author:t.author,points:t.points||0,comments:((a=t.comments)==null?void 0:a.length)||0,createdAt:t.createdAt,category:"Gaming",emoji:t.emoji||"ðŸŽ®",onVote:n,hasVoted:!1},t._id)}):e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx("p",{children:"No posts found in Gaming"}),e.jsx("p",{className:"text-sm mt-2",children:"Be the first to share something!"})]})})]})})}function Ie(){const{data:c,isLoading:i,error:s,refetch:r}=y({queryKey:["posts","Film"],queryFn:()=>d.getItems("Film",1,"main"),staleTime:12e4}),n=async(t,a)=>{try{await d.voteItem(t,a),r()}catch(o){console.error("Vote failed:",o),alert("Failed to vote. Please try again.")}};return i?e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsx(j,{})}):s?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load posts"}),e.jsx("button",{onClick:()=>r(),className:"btn-primary",children:"Try Again"})]}):e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Film"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Latest film news and discussions"})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:c&&c.length>0?c.map(t=>{var a;return e.jsx(f,{id:t._id,title:t.title,url:t.url,author:t.author,points:t.points||0,comments:((a=t.comments)==null?void 0:a.length)||0,createdAt:t.createdAt,category:"Film",emoji:t.emoji||"ðŸŽ¬",onVote:n,hasVoted:!1},t._id)}):e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx("p",{children:"No posts found in Film"}),e.jsx("p",{className:"text-sm mt-2",children:"Be the first to share something!"})]})})]})})}function Ae(){const{data:c,isLoading:i,error:s,refetch:r}=y({queryKey:["posts","Memecoins"],queryFn:()=>d.getItems("Memecoins",1,"main"),staleTime:12e4}),n=async(t,a)=>{try{await d.voteItem(t,a),r()}catch(o){console.error("Vote failed:",o),alert("Failed to vote. Please try again.")}};return i?e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsx(j,{})}):s?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load posts"}),e.jsx("button",{onClick:()=>r(),className:"btn-primary",children:"Try Again"})]}):e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Memecoins"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Latest memecoin news and discussions"})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:c&&c.length>0?c.map(t=>{var a;return e.jsx(f,{id:t._id,title:t.title,url:t.url,author:t.author,points:t.points||0,comments:((a=t.comments)==null?void 0:a.length)||0,createdAt:t.createdAt,category:"Memecoins",emoji:t.emoji||"ðŸª™",onVote:n,hasVoted:!1},t._id)}):e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx("p",{children:"No posts found in Memecoins"}),e.jsx("p",{className:"text-sm mt-2",children:"Be the first to share something!"})]})})]})})}function Se(){const{data:c,isLoading:i,error:s,refetch:r}=y({queryKey:["posts","NFT"],queryFn:()=>d.getItems("NFT",1,"main"),staleTime:12e4}),n=async(t,a)=>{try{await d.voteItem(t,a),r()}catch(o){console.error("Vote failed:",o),alert("Failed to vote. Please try again.")}};return i?e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsx(j,{})}):s?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load posts"}),e.jsx("button",{onClick:()=>r(),className:"btn-primary",children:"Try Again"})]}):e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"NFT"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Latest NFT news and discussions"})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:c&&c.length>0?c.map(t=>{var a;return e.jsx(f,{id:t._id,title:t.title,url:t.url,author:t.author,points:t.points||0,comments:((a=t.comments)==null?void 0:a.length)||0,createdAt:t.createdAt,category:"NFT",emoji:t.emoji||"ðŸ–¼ï¸",onVote:n,hasVoted:!1},t._id)}):e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx("p",{children:"No posts found in NFT"}),e.jsx("p",{className:"text-sm mt-2",children:"Be the first to share something!"})]})})]})})}function Te(){const{data:c,isLoading:i,error:s,refetch:r}=y({queryKey:["posts","DePIN"],queryFn:()=>d.getItems("DePIN",1,"main"),staleTime:12e4}),n=async(t,a)=>{try{await d.voteItem(t,a),r()}catch(o){console.error("Vote failed:",o),alert("Failed to vote. Please try again.")}};return i?e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsx(j,{})}):s?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load posts"}),e.jsx("button",{onClick:()=>r(),className:"btn-primary",children:"Try Again"})]}):e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"DePIN"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Latest DePIN news and discussions"})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:c&&c.length>0?c.map(t=>{var a;return e.jsx(f,{id:t._id,title:t.title,url:t.url,author:t.author,points:t.points||0,comments:((a=t.comments)==null?void 0:a.length)||0,createdAt:t.createdAt,category:"DePIN",emoji:t.emoji||"ðŸŒ",onVote:n,hasVoted:!1},t._id)}):e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx("p",{children:"No posts found in DePIN"}),e.jsx("p",{className:"text-sm mt-2",children:"Be the first to share something!"})]})})]})})}function Pe(){const{data:c,isLoading:i,error:s,refetch:r}=y({queryKey:["posts","DeSci"],queryFn:()=>d.getItems("DeSci",1,"main"),staleTime:12e4}),n=async(t,a)=>{try{await d.voteItem(t,a),r()}catch(o){console.error("Vote failed:",o),alert("Failed to vote. Please try again.")}};return i?e.jsx("div",{className:"flex items-center justify-center min-h-64",children:e.jsx(j,{})}):s?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load posts"}),e.jsx("button",{onClick:()=>r(),className:"btn-primary",children:"Try Again"})]}):e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"DeSci"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Latest DeSci news and discussions"})]}),e.jsx("div",{className:"divide-y divide-gray-200",children:c&&c.length>0?c.map(t=>{var a;return e.jsx(f,{id:t._id,title:t.title,url:t.url,author:t.author,points:t.points||0,comments:((a=t.comments)==null?void 0:a.length)||0,createdAt:t.createdAt,category:"DeSci",emoji:t.emoji||"ðŸ”¬",onVote:n,hasVoted:!1},t._id)}):e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx("p",{children:"No posts found in DeSci"}),e.jsx("p",{className:"text-sm mt-2",children:"Be the first to share something!"})]})})]})})}function ke(){return e.jsx(ge,{children:e.jsxs(O,{children:[e.jsx(g,{path:"/",element:e.jsx(fe,{})}),e.jsx(g,{path:"/submit",element:e.jsx(ve,{})}),e.jsx(g,{path:"/crypto",element:e.jsx(we,{})}),e.jsx(g,{path:"/ai",element:e.jsx(Ce,{})}),e.jsx(g,{path:"/gaming",element:e.jsx(Fe,{})}),e.jsx(g,{path:"/film",element:e.jsx(Ie,{})}),e.jsx(g,{path:"/memecoins",element:e.jsx(Ae,{})}),e.jsx(g,{path:"/nft",element:e.jsx(Se,{})}),e.jsx(g,{path:"/depin",element:e.jsx(Te,{})}),e.jsx(g,{path:"/desci",element:e.jsx(Pe,{})})]})})}const Le=new B({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}});A.createRoot(document.getElementById("root")).render(e.jsx(R.StrictMode,{children:e.jsx(G,{client:Le,children:e.jsx($,{appId:"cm4g4hzw102g3hlf5jgx0rxf9",config:{loginMethods:["farcaster"],appearance:{theme:"light",accentColor:"#3B82F6",showWalletLoginFirst:!1}},children:e.jsx(U,{children:e.jsx(ke,{})})})})}));
